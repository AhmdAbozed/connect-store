function L(){document.getElementById("fullScreenImage").src=document.getElementById("img1").src}function E(){const d=document.querySelectorAll(".small-img");document.querySelectorAll(".scrollable").forEach(e=>{e.scrollLeft=0});function c(){const e=document.querySelector(".small-active");console.log(e),e==null||e.parentElement.classList.replace("-translate-y-1","-translate-y-0"),e==null||e.classList.add("opacity-50"),e==null||e.classList.remove("small-active");const o=document.querySelector(".big-active");o==null||o.classList.remove("big-active"),o==null||o.classList.add("opacity-50")}d.forEach(e=>{e.addEventListener("click",o=>{c();const n=o.target,t=n.id[1];n.classList.add("small-active"),n.parentElement.classList.replace("-translate-y-0","-translate-y-1"),n.classList.remove("opacity-50");const s=document.getElementById("b"+t);console.log("b"+n.id),console.log(s),s.classList.add("big-active"),s.classList.remove("opacity-50"),document.getElementById("fullScreenImage").src=s.children[0].src;const a=document.querySelector(".big-active").getBoundingClientRect().width;document.getElementById("big-images-scrollable").scrollLeft=a*Number(s.id[1])})})}const h=()=>{if(window.innerWidth<640)return;document.querySelectorAll(".big-img").forEach(c=>{const e=c.children[0];e.addEventListener("mousemove",o=>{const n=o,{left:t,top:s,width:m,height:a}=c.getBoundingClientRect();e.getBoundingClientRect().width;const r=n.clientX-t,l=n.clientY-s,i=r/m*100,g=l/a*100;e.style.transformOrigin=`${i}% ${g}%`,e.style.transform="scale(2)"}),e.addEventListener("mouseleave",()=>{e.style.transform="scale(1)"})})},b=()=>{const d=document.getElementById("fullscreen-icon"),c=document.getElementById("fullScreenModal"),e=document.getElementById("closeButton"),o=document.querySelector(".big-active").src;document.getElementById("fullScreenImage").src=o;let n=!1;d.addEventListener("click",()=>{var t;console.log("clicked"),n=!0,history.pushState({fullscreen:!0},""),(t=document.querySelector("body"))==null||t.classList.add("overflow-y-hidden"),c.classList.replace("hidden","flex")}),window.addEventListener("popstate",()=>{var t;console.log("popstate: ",n),n&&((t=document.querySelector("body"))==null||t.classList.remove("overflow-y-hidden"),c.classList.replace("flex","hidden"))}),e.addEventListener("click",()=>{var t;(t=document.querySelector("body"))==null||t.classList.remove("overflow-y-hidden"),c.classList.replace("flex","hidden"),history.back()}),c.addEventListener("click",t=>{var s;t.target===c&&((s=document.querySelector("body"))==null||s.classList.remove("overflow-y-hidden"),c.classList.replace("flex","hidden"),history.back())})};function v(){document.querySelectorAll(".product-img").forEach(d=>{d.addEventListener("error",()=>{d.parentElement.classList.add("hidden")})})}const B=()=>{var n,t,s;function d(){const m=document.getElementById("decrement"),a=document.getElementById("increment"),r=document.getElementById("quantity");m.addEventListener("click",()=>{u>1&&(u--,r.textContent=JSON.stringify(u))}),a.addEventListener("click",()=>{u++,r.textContent=JSON.stringify(u)})}function c(){var m;(m=document.getElementById("order-form"))==null||m.addEventListener("submit",async a=>{a.preventDefault();const r=a.target,l=document.getElementById("submit-btn");l.disabled=!0,l.innerHTML="Sending Order..";try{const i=new FormData;i.append("Name",r.elements.fullName.value),i.append("Address",r.elements.address.value),i.append("PhoneNumber",r.elements.phoneNumber.value),i.append("Products",JSON.stringify([{id:y.id,quantity:u}]));const g={method:"POST",headers:{"Access-Control-Allow-Credentials":"true",Accept:"multipart/form-data"},credentials:"include",body:i};r.reset();const p=location.protocol+"//"+location.host+"/_api/order/",f=await fetch(p,g);f.status===200?l.innerHTML="Order Sent.":(l.innerHTML="Failed to send order: "+f.status,l.disabled=!1)}catch(i){throw l.innerHTML="Failed to send order: Unknown Error",l.disabled=!1,i}})}const e=document.getElementById("order-popup"),o=u;(n=document.getElementById("close-order"))==null||n.addEventListener("click",()=>{e.classList.add("hidden")}),(t=document.getElementById("order-overlay"))==null||t.addEventListener("click",()=>{e.classList.add("hidden")}),(s=document.getElementById("buy-button"))==null||s.addEventListener("click",()=>{document.getElementById("order-count").innerHTML=JSON.stringify(o),document.getElementById("order-price").innerHTML=JSON.stringify((y.discounted_price?y.discounted_price:y.price)*u),e==null||e.classList.remove("hidden")}),c(),d()},y=phpProduct;let u=1;B();h();E();b();v();L();
