document.querySelectorAll(".removeBtn").forEach(o=>{o.addEventListener("click",async r=>{var s;const e=r.currentTarget;if(!e.classList.contains("confirm")){e.classList.add("confirm"),e.disabled=!0,setTimeout(()=>{e.disabled=!1,e.innerHTML="Confirm"},200);return}e.innerHTML="Deleting",e.disabled=!0;const n=e.parentElement.id,t=await fetch("/_api/administrator/"+e.dataset.type+"/delete/"+n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(t.status===200){const a=await t.json();console.log("Success:",a),(s=document.getElementById("p"+n))==null||s.remove()}else e.innerHTML="Failed to delete "+t.status,console.error("Error:",t.statusText)})});
