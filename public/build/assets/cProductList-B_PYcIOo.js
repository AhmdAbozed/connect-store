document.querySelectorAll(".removeBtn").forEach(a=>{a.addEventListener("click",async i=>{var r;const e=i.currentTarget;if(!e.classList.contains("confirm")){e.classList.add("confirm"),e.disabled=!0,setTimeout(()=>{e.disabled=!1,e.innerHTML="Confirm"},200);return}e.innerHTML="Deleting",e.disabled=!0;const n=e.parentElement.id,t=await fetch("/_api/administrator/"+e.dataset.type+"/delete/"+n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),s=await t.text();t.status===200?(console.log("Success:",s),(r=document.getElementById("p"+n))==null||r.remove()):(e.innerHTML="Failed: "+t.status+" "+s,console.error("Error:",t.statusText))})});
